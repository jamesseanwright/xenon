with(c){x=new AudioContext,t=[0,3,5,7],n=x.createOscillator(),i=x.createGain(),i.gain.value=.3,n.type="triangle",n.connect(i),n.start(),i.connect(x.destination),f=1,o=0,r=0,m=e=>e%2|0?[e%2|0?-.06:1,e%1]:[e%1,e%2|0?-.06:1],d=e=>e.map(e=>-.06===e?.004:1===e?-.004:0),l=[.458,.458],p=[.005,0],u=1,h=[0,1,2].map(e=>m(9*e)).map((e,t)=>({t:e,x:d(e),s:1,i:1e3*t})),q={},this.onkeydown=(t=>{x.resume(),q[t.key]=!r}),this.onkeyup=(e=>{q[e.key]=0}),A=v=>{v%333<16.66&&(n.frequency.value=18.35*1.059**t[v%4|0]*4),fillStyle="#000",fillRect(0,0,480,480),h.map(t=>{if(t.s&&t.i<v&&(t.s=0),!t.s&&(t.t.some(e=>e<-.06||e>1.06)&&(t.t=m(v),t.x=d(t.t),t.i=v),t.x.map((e,s)=>{t.t[s]+=e*f/3}),fillStyle="#008",translate(480*(t.t[0]+.03),480*(t.t[1]+.03)),rotate(.002*v),fillRect(-14.4,-14.4,28.8,28.8),fillStyle="#fff",font="180% sans-serif",fillText("X",-9.93,10.3),resetTransform(),l[0]+.085>=t.t[0]&&l[0]<=t.t[0]+.06&&l[1]+.085>=t.t[1]&&l[1]<=t.t[1]+.06)){u=1,(o+=1)%8==0&&f++,t.t=m(v),t.x=d(t.t),t.i=v,sf=x.createOscillator(),sf.frequency.value=340,sf.connect(i),sf.start(v/1e3),sf.stop(v/1e3+.02)}}),u<=0?r=1:u-=.002,p.map((e,t)=>{l[t]+=e}),q.x&&(p=[-p[1],p[0]],q.x=0),translate(480*(l[0]+.043),480*(l[1]+.043)),rotate(Math.atan2(p[1],p[0])),beginPath(),moveTo(-20.4,-20.4),lineTo(20.4,5.1),lineTo(-20.4,20.4),closePath(),fill(),resetTransform(),r&&fillText("ðŸ˜­",224,232),fillStyle="#ff0",fillRect(24,24,432*u,4.8),requestAnimationFrame(A)},requestAnimationFrame(A)}
